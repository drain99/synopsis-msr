\begin{figure}[H]
\begin{algorithm}[H]
\begin{footnotesize}
\SetAlgoLined
\SetKwProg{Fn}{Function}{}{end}
\Fn{$isDepthBounded_D(l,p,d)$}{
  \lIf{$d > D$}{\Return{$\neg p$}}
  \uIf{$l \keyword{is} atomic$}{
    \lIf{$l \keyword{is} scalar$}{\Return{$true$}}
    \Else{
      $l_r \mapsfrom rewrite(l)$;\\
      \Return{$isDepthBounded_D(l_r,p,d)$};
    }
  }
  \uElseIf{$l = V^{(n)}(l^1,l^2,\dots,l^n)$}{
    \Return{$\bigwedge_{i \in [1,n]} isDepthBounded_D(l^i,p,d+1)$}
  }
  \Else($l = $ \sumIf{c} \sumThen{l^{\tt th}} \sumElse{l^{\tt el}}){
    $cond^{\tt th} \mapsfrom isDepthBounded_D(l^{\tt th},p \oland c, d)$;\\
    $cond^{\tt el} \mapsfrom isDepthBounded_D(l^{\tt el},p \oland \neg c , d)$;\\
    \Return{$cond^{\tt th} \land cond^{\tt el}$}
  }
}
\end{footnotesize}
\caption{\label{algo:depthbound}Pseudo-code for $isDepthBounded$ Procedure}
\end{algorithm}
\end{figure}